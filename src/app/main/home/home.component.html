<div
  *ngIf="!addNew && !isAvailabilityCheck"
  class="main"
  style="
    max-width: 100vw;
    max-height: 100svh;
    background-color: rgb(255, 255, 255);
  "
>
  <div style="max-height: 30vh; overflow: hidden">
    <div
      style="
        width: 100%;
        height: 90px;
        background-color: #fbf5be;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
      "
    >
      <div
        style="
          padding: 20px;
          display: flex;
          justify-content: flex-start;
          position: relative;
        "
      >
        <img
          style="margin-left: 15px; width: 25px; height: 20px"
          src="https://cdn2.vectorstock.com/i/1000x1000/66/81/car-and-automotive-logo-vector-30896681.jpg"
          alt=""
        />
        <span
          style="
            color: rgb(32, 30, 30);
            top: 23px;
            position: absolute;
            width: 200px;
            left: 68px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS',
              sans-serif;
            font-weight: 600;
          "
          >CAR DEAL</span
        >
      </div>
      <div style="padding-right: 20px">
        <button
          (click)="addNewVehicle()"
          style="
            background-color: white;
            border: none;
            height: 35px;
            padding: 5px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS',
              sans-serif;
            padding: 10px;
            border-radius: 3px;
            font-size: 15px;
            font-weight: 600;
          "
        >
          Add New Car +
        </button>
      </div>
    </div>
  </div>
  <h1
    style="font-size: 18px; margin-left: 20px; position: relative"
    class="owner-greating"
  >
    Hi, Rinshid
    <button
      (click)="checkAvailability()"
      style="
        position: absolute;
        right: 15px;
        background-color: #fbf5be;
        border: none;
        height: 35px;
        padding: 5px;
        font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS',
          sans-serif;
        padding: 10px;
        border-radius: 3px;
        font-size: 15px;
        font-weight: 600;
      "
    >
      Check availability
    </button>
  </h1>

  <div class="car-container" style="padding-right: 30px">
    <div class="cardsrr" *ngFor="let item of vehicleList.reverse()">
      <div
        style="
          width: 93vw;
          height: 126px;
          background-color: #fbf5be;
          border-radius: 7px;
          position: relative;
        "
      >
        <div
          style="
            display: flex;
            justify-content: end;
            margin-right: 10px;
            padding-top: 17px;
          "
        >
          <div style="width: 40px; height: 40px; border-radius: 50%">
            <i
              (click)="view(item.number)"
              class="fa fa-arrow-circle-right"
              style="font-size: 35px; color: rgb(255, 255, 255)"
            ></i>
          </div>
        </div>
        <div
          style="
            display: flex;
            justify-content: flex-start;
            padding-top: 2px;
            margin-right: 19px;
          "
        >
          <div style="height: 40px; margin-left: 20px; padding: 0px !important">
            <span
              style="
                font-size: 26px;
                color: rgb(53, 47, 47);
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri,
                  'Trebuchet MS', sans-serif;
                font-weight: 550;
              "
              >{{ item.name }}</span
            ><br />
            <span style="font-size: 17px; color: rgb(71, 67, 67)">{{
              item.model
            }}</span>
            <span
              style="
                position: absolute;
                top: 82px;
                right: 20px;
                font-size: 26px;
                color: rgb(63, 57, 57);
                font-family: 'Gill Sans', 'Gill Sans MT', Calibri,
                  'Trebuchet MS', sans-serif;
                font-weight: 550;
              "
              >{{ item.number }}</span
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  *ngIf="addNew && !isAvailabilityCheck"
  class="frame"
  style="position: absolute; width: 100%; height: 100%; border-radius: 15px"
>
  <form [formGroup]="carForm">
    <div
      style="
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin-top: 20px;
      "
    >
      <div
        style="
          font-size: 20px;
          margin-left: 30px;
          font-weight: 650;
          color: rgb(49, 50, 49);
        "
      >
        Add Car
      </div>
      <div
        style="
          font-weight: 650;
          color: rgb(231, 137, 137);
          margin-right: 30px;
          margin-top: 4px;
        "
        (click)="addNewVehicle()"
      >
        Close
      </div>
    </div>
    <div
      style="
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      "
    >
      <div
        style="
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 30px;
          margin-top: 50px;
        "
        class="shade"
      >
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">Name</label>
          <input
            type="text"
            name="username"
            formControlName="name"
            style="
              height: 30px;
              width: 50vw;
              background-color: transparent;
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
          <span
            style="color: red"
            *ngIf="
              carForm.get('name').hasError('required') &&
              carForm.get('name').touched
            "
          >
            name is required
          </span>
        </div>
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">Color</label>
          <input
            type="text"
            name="username"
            formControlName="color"
            style="
              height: 30px;
              width: 50vw;
              background-color: transparent;
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
          <span
            style="color: red"
            *ngIf="
              carForm.get('color').hasError('required') &&
              carForm.get('color').touched
            "
          >
            color is required
          </span>
        </div>
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">Model</label>
          <input
            type="text"
            name="model"
            formControlName="model"
            style="
              height: 30px;
              width: 50vw;
              background-color: transparent;
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
          <span
            style="color: red"
            *ngIf="
              carForm.get('model').hasError('required') &&
              carForm.get('model').touched
            "
          >
            Model is required
          </span>
        </div>
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">Car Number</label>
          <input
            type="text"
            name="username"
            formControlName="number"
            style="
              height: 30px;
              width: 50vw;
              background-color: transparent;
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
          <span
            style="color: red"
            *ngIf="
              carForm.get('number').hasError('required') &&
              carForm.get('number').touched
            "
          >
            Number is required
          </span>
        </div>

        <button
          style="
            margin-top: 50px;
            height: 50px;
            width: 70vw;
            color: rgb(255, 255, 255);
            background-color: rgb(77, 118, 86);
            border-radius: 10px;
            font-size: 15px;
          "
          (click)="addVehicleToList()"
        >
          Add
        </button>
      </div>
    </div>
  </form>
</div>

<div
  *ngIf="isAvailabilityCheck"
  class="frame"
  style="position: absolute; width: 100%; height: 100%; border-radius: 15px"
>
  <form [formGroup]="availabilityForm">
    <div
      style="
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin-top: 20px;
      "
    >
      <div
        style="
          font-size: 20px;
          margin-left: 30px;
          font-weight: 650;
          color: rgb(49, 50, 49);
        "
      >
        Car Availability
      </div>
      <div
        style="
          font-weight: 650;
          color: rgb(231, 137, 137);
          margin-right: 30px;
          margin-top: 4px;
        "
        (click)="checkAvailability()"
      >
        Close
      </div>
    </div>
    <div
      style="
        position: relative;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
      "
    >
      <div
        style="
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 30px;
          margin-top: 50px;
        "
        class="shade"
      >
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">Start Date</label>
          <input
            type="date"
            name=""
            formControlName="startDate"
            style="
              height: 30px;
              width: 50vw;
              background-color: rgb(188, 186, 186);
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
        </div>
        <div class="full-input">
          <label for="name" style="color: rgb(53, 50, 50)">End Date</label>
          <input
            type="date"
            name="username"
            formControlName="endDate"
            style="
              height: 30px;
              width: 50vw;
              background-color: rgb(188, 186, 186);
              border-radius: 8px;
              color: rgb(53, 50, 50);
            "
          />
        </div>
        <button
          style="
            margin-top: 15px;
            height: 50px;
            width: 51vw;
            color: rgb(255, 255, 255);
            background-color: rgb(77, 118, 86);
            border-radius: 10px;
            font-size: 15px;
          "
          (click)="lookCars()"
        >
          Check Availability
        </button>
      </div>
      <h1
        style="font-size: 18px; margin-left: 20px; position: relative"
        class="owner-greating"
      >
        Available Cars
      </h1>

      <div
        *ngIf="!availableCars.length"
        style="
          height: 60px;
          display: flex;
          justify-content: center;
          align-items: center;
        "
      >
        <img
          style="width: 50vw; margin-top: 300px"
          src="../../../assets/no-order.png"
          alt=""
        />
      </div>
      <div
        *ngIf="availableCars.length"
        class="car-container"
        style="
          padding-right: 30px;
          height: 61vh !important;
          margin-top: 2vh !important;
          padding-bottom: 60px;
        "
      >
        <div class="cardsrr" *ngFor="let item of availableCars.reverse()">
          <div
            style="
              width: 93vw;
              height: 126px;
              background-color: #fbf5be;
              border-radius: 7px;
              position: relative;
            "
          >
            <div
              style="
                display: flex;
                justify-content: end;
                margin-right: 10px;
                padding-top: 17px;
              "
            >
              <div style="width: 40px; height: 40px; border-radius: 50%">
                <i
                  (click)="view(item.number)"
                  class="fa fa-arrow-circle-right"
                  style="font-size: 35px; color: rgb(255, 255, 255)"
                ></i>
              </div>
            </div>
            <div
              style="
                display: flex;
                justify-content: flex-start;
                padding-top: 2px;
                margin-right: 19px;
              "
            >
              <div
                style="height: 40px; margin-left: 20px; padding: 0px !important"
              >
                <span
                  style="
                    font-size: 26px;
                    color: rgb(53, 47, 47);
                    font-family: 'Gill Sans', 'Gill Sans MT', Calibri,
                      'Trebuchet MS', sans-serif;
                    font-weight: 550;
                  "
                  >{{ item.name }}</span
                ><br />
                <span style="font-size: 17px; color: rgb(71, 67, 67)">{{
                  item.model
                }}</span>
                <span
                  style="
                    position: absolute;
                    top: 82px;
                    right: 20px;
                    font-size: 26px;
                    color: rgb(63, 57, 57);
                    font-family: 'Gill Sans', 'Gill Sans MT', Calibri,
                      'Trebuchet MS', sans-serif;
                    font-weight: 550;
                  "
                  >{{ item.number }}</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
